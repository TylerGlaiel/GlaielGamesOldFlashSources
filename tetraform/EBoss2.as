package {	import flash.events.Event;	import flash.display.MovieClip;	public class EBoss2 extends Enemy{		private var btimer:int = 0;		public function EBoss2 (a:Attractable, b:Attractable){			super(a, b);			btimer = 200;			handle.targetable = false;			handle.blocking = true;			handle.rumble = 150;		}		public override function update(){			var dist:Vec2D = new Vec2D(base.y-handle.y, -(base.x - handle.x));			var dist2:Vec2D = new Vec2D(base.x-handle.x, base.y - handle.y);			dist2.length -= 600;			dist2.scale(.003);			var dl:Number = dist.length;			dist.length = 3;						var dir:Vec2D = new Vec2D(-dist.x + dist2.x,									  -dist.y + dist2.y);			dir.norm();						handle.momentum.x += dir.x * 130;			handle.momentum.y += dir.y * 130;						if(dl < 800){				btimer = (btimer+1)%300;				var speed:Vec2D = new Vec2D(0, -1).rotated(handle.clip.rotation);				speed.length = 4;				if(btimer == 0){					SoundEffect.play(SoundEffect.FIRE);					MovieClip(handle.clip).play();					speed.rotate(-90)					ROOT.launchOrbiter(new Vec2D(handle.x+speed.x*30, handle.y+speed.y*30), handle);					speed.rotate(180)					ROOT.launchOrbiter(new Vec2D(handle.x+speed.x*30, handle.y+speed.y*30), handle);				}				if(btimer == 25 || btimer == 50){					SoundEffect.play(SoundEffect.FIRE);					speed.rotate(-80)					ROOT.launchMissile(new Vec2D(handle.x+speed.x*30, handle.y+speed.y*30), speed.rotated(70));					speed.rotate(160)					ROOT.launchMissile(new Vec2D(handle.x+speed.x*30, handle.y+speed.y*30), speed.rotated(-70));				}				if(btimer == 75){					SoundEffect.play(SoundEffect.FIRE);					speed.length = 6;					ROOT.launchBigMissile(new Vec2D(handle.x+speed.x*25, handle.y+speed.y*25), speed.scaled(2));				}			}						handle.stable = true;			handle.clip.rotation = Vec2D.angle2(new Vec2D(0, -1), handle.momentum);		}	}}