package {	import flash.events.Event;	import flash.display.MovieClip;	public class ELauncher extends Enemy{		private var timer:int = 0;		public function ELauncher (a:Attractable, b:Attractable){			super(a, b);			timer = Math.random()*100;			handle.rumble = 10;		}		public override function update(){			var dist:Vec2D = new Vec2D(base.x - handle.x, base.y-handle.y);			var dl:Number = dist.length;			if(dist.length == 500){				dist.length -= 499;			} else {				dist.length -= 500;			}			if(dist.length > 10){				dist.norm();				handle.momentum.x += dist.x*9;				handle.momentum.y += dist.y*9;			}						if(dl < 600){				timer = (timer+1)%100;				var speed:Vec2D = new Vec2D(0, -1).rotated(handle.clip.rotation);				speed.length = 3;				if(timer==0){					SoundEffect.play(SoundEffect.FIRE);					ROOT.launchMissile(new Vec2D(handle.x+speed.x*20, handle.y+speed.y*20), speed);					MovieClip(handle.clip).play();				}			}			if(handle.held == 0) {				handle.stable = true;			}			if(!handle.stable && handle.momentum.length2 > 0){				handle.clip.rotation = Vec2D.angle2(new Vec2D(0, -1), handle.momentum);			} else {				handle.clip.rotation += Vec2D.angle2(new Vec2D(0, -1).rotated(handle.clip.rotation), new Vec2D(base.x - handle.x, base.y-handle.y)) * .1;			}		}	}}