package  {	import flash.xml.*;	public class WaveController {		[Embed(source = "waves.xml",mimeType = "application/octet-stream")]		private var WaveXML:Class;				private var waves:Vector.<Wave>;		private var data:XML;		private var level:int;		private var timer:int;				public function WaveController() {			timer = -1;			waves = new Vector.<Wave>();									data = new XML(new WaveXML());			var wavelist:XMLList = data.child("wave");						var item:XML;            for each(item in wavelist) {                waves.push(new Wave(item));            }									level = 0;//waves.length-1;		}				public function skip(){			timer = 140;		}				public function update():String {			var retstr:String = "";			if(level != waves.length){				if(waves[level].done || timer >= 0){					timer++;				}				if(timer == 150){					level++;					if(level == waves.length) return "END";					retstr = waves[level].name;					timer = -1;				}				if(timer < 0){					waves[level].update();				}			}			return retstr;		}	}	}